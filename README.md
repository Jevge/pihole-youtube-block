# pihole-youtube-block
### Scan logs generated by `pihole` and extract domains used to serve ads on YouTube

* scans log files, including archived logs
* can process multiple files in parallel
* compiles a unique list with the extracted domains
* offers the option to add (blacklist) the extracted domains directly to `pihole`
* low memory footprint and extremely fast

##### Getting started
```bash
$ git clone https://github.com/foae/pihole-youtube-block.git
$ cd pihole-youtube-block
```

##### How to run it
If you have `go` installed
```bash
$ go run main.go
```

###### For ARM (Raspberry Pi and alternatives)
```bash
$ cd bin
$ ./ytblock-arm
```

###### For all others
```bash
$ cd bin
$ ./ytblock
```

All gathered domains will be written to `compiled_domains.txt`  
You can easily tweak the configuration to suit your needs; it has with sensible defaults.
 
File `config.json`
* `"PIHOLE_LOGS_DIR": "/var/log/",` – path to your pihole logs
* `"COMPILED_FILE_NAME": "./compiled_domains.txt",` – name of the file used to collect all domains from logs
* `"LOG_FILE_NAME_PREFIX": "pihole.log"` – if your pihole log files have a different name, you can change this

##### License
MIT License